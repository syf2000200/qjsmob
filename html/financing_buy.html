<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<title>千金锁</title>
	<meta name="author" content="Hifang.com">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes"><!--  网站开启对 web app 程序的支持 -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black">  <!-- 指定的iphone中safari顶端的状态条的样式 -->
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-itunes-app" content="app-id=432274380" /><!--  iPhone显示下载AppStore的banner -->
    <meta http-equiv="Expires" CONTENT="-1">   <!--  网页在任何时候都不能被Cache存储        -->
    <meta http-equiv="Cache-Control" CONTENT="no-cache">           
    <meta http-equiv="Pragma" CONTENT="no-cache">  
    <link rel="stylesheet" href="../../thirdvendor/font-awesome/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="../less/app.css">

    <!-- holder.js 图片站位 可去掉-->
    <script src="../../thirdvendor/holder/holder.min.js"></script>    
</head>
    
<body class="bgf0">
    <header class="header">
        <div class="h-topbox">
            <p class="h-top">购买</p>
            <a href="" class="h-item-left icon-angle-left"></a>
        </div>
    </header>
    <section>
    	
        <div class="x-financing-buy-height">
        	<a href="" class="x-financing-buy-href">
        		<div class="x-financing-buy-heibox">
        			<h3>1000.00</h3>
        			<span>预期收益(元)</span>
        		</div>
        	</a>
        	<a href="" class="icon-angle-right"></a>
        </div>
        <div class="x-finan-buy-envelope">
        	<h4><img src="../img/envelope-finan-icon.png"/>转让红包</h4>
        	<p>3450<span>元/份</span></p>
        </div>
		<p class="x-finan-buy-enveby">发出的红包在您转出成功后扣除</p>
		<div class="x-finan-buy-amount">
			<div class="x-finan-buy-amountw clearfix">
				<p>转让金额：</p>
                <span class=" clearfix pd-0 counter">
                    <button href="#" class=""  onclick="cutMinus('#Num','#Plus','#Minus');">-</button>
                    <input type="text" data-max="140000" class="num" id="Num" value="1000" onchange="modVal('#Num')">
                    <button href="#" class="plus"  onclick="addPlus('#Num','#Plus','#Minus');">+</button>
                </span>
			</div>
			<div class="x-finan-buy-amountw">
				<p>转让金额：</p>
				<span>1000元</span>
			</div>
		</div>
		<div class="x-finan-buy-amountt">
			<p>转让金额：</p>
			<span>1000元</span>
		</div>
		<div class="x-finan-buy-chexiey">
			<input type="checkbox" name="" id="" value="" />
			<p>我已成功阅读<a>《理财转让及授让协议》</a></p>
		</div>
		
		<a class="x-finan-buy-btnyes">确认转入</a>
    </section>

<!-- javascript -->
<script src="../../thirdvendor/zepto1.0/zepto.js"></script>
<script src="../../thirdvendor/zepto1.0/touch.js"></script>
<script src="../../thirdvendor/layer.m/layer.m.js"></script>
<link rel="stylesheet" type="text/css" href="../../thirdvendor/layer.m/need/layer.css"/>
<script src="../../thirdvendor/layer.m/layer.m.js"></script>

<script>
$(function(){

	//弹窗的layer代码；
	$('.h-finorder-btn1').on('click', function(){
	    layer.open({
	        content:'现在取消订单，可能错失宝贵的投资机会，您真的要取消吗',
	        btn: ['取消订单','返回'],
	        yes: function(index){
	            layer.open({
	                btn: ['OK'],
	                content:'订单取消成功，欢迎您继续查看更多内容'
	            })
	        }, 
	        no: function(index){
	            layer.close(index)
	        }
	    })
	
	});


});
/*** 千分位转换***/
Number.prototype.formatMoney = function (places, symbol, thousand) {
    places = !isNaN(places = Math.abs(places)) ? places : 2;
    symbol = symbol !== undefined ? symbol : "$";
    thousand = thousand || ",";
    // decimal = decimal || ".";
    var number = this,
        negative = number < 0 ? "-" : "",
        i = parseInt(number = Math.abs(+number || 0).toFixed(places), 10) + "",
        j = (j = i.length) > 3 ? j % 3 : 0;
    return symbol + negative + (j ? i.substr(0, j) + thousand : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousand);
};



//计算认购金额


function addPlus(cta,plus,minus){
    var cta = $(cta),num,
        max = $(cta).attr('data-max');
        num = parseInt(cta.val());
    if(num < max){
        num = num+1000;
        cta.val(num);
        $(minus).removeAttr ("disabled");
    }else{
        $(plus).attr("disabled","disabled");
        alert('最大不能超过'+max);
    }
}

function cutMinus(cta,plus,minus){
    var cta = $(cta),num;
        num = parseInt(cta.val());
    if(num > 1000){
        num = num-1000;
        cta.val(num);
        $(plus).removeAttr ("disabled");
    }else{
        $(minus).attr("disabled","disabled");
        alert('最小不能超过1000');
    }
}

function modVal(cta){
    var cta = $(cta),num,
        reg = new RegExp(/^[0-9]*[1-9][0-9]*$/);
        num = parseInt(cta.val());
        var max = $(cta).attr('data-max');
    if(!reg.test(num)){
        cta.val('1000');
        alert("请输入数字！");
    }else if(num < max){
		var d=Math.ceil(num/1000);
		var nums=d*1000;
		cta.val(nums);
   	}else{
   		cta.val('1000');
        alert('最大不能超过'+max);
    }
}

</script>



</body>
</html>